{
  "name": "vscode-copilot-huckleberry",
  "displayName": "Huckleberry Task Manager",
  "version": "0.1.7",
  "description": "A VS Code GitHub Copilot extension that helps manage and track tasks using LLM capabilities",
  "publisher": "CambridgeMonorail",
  "repository": {
    "type": "git",
    "url": "https://github.com/CambridgeMonorail/vscode-huckleberry.git"
  },
  "main": "./dist/extension.js",
  "icon": "icon.png",
  "engines": {
    "vscode": "^1.93.0",
    "node": "^22.0.0"
  },
  "categories": [
    "AI",
    "Chat",
    "Machine Learning"
  ],
  "tags": [
    "chat-participant"
  ],
  "activationEvents": [
    "onStartupFinished",
    "onChatParticipant:huckleberry",
    "onLanguageModelTool:create_task",
    "onLanguageModelTool:initialize_tracking",
    "onLanguageModelTool:scan_todos",
    "onLanguageModelTool:list_tasks",
    "onLanguageModelTool:mark_task_done",
    "onLanguageModelTool:update_task_priority"
  ],
  "contributes": {
    "commands": [
      {
        "command": "vscode-copilot-huckleberry.manageTasks",
        "title": "Huckleberry: Manage Tasks",
        "category": "Huckleberry",
        "description": "Open the Huckleberry task management interface"
      },
      {
        "command": "vscode-copilot-huckleberry.initializeTaskTracking",
        "title": "Huckleberry: Initialize Task Tracking",
        "category": "Huckleberry",
        "description": "Set up task tracking for the current workspace"
      },
      {
        "command": "vscode-copilot-huckleberry.createTask",
        "title": "Huckleberry: Create Task",
        "category": "Huckleberry",
        "description": "Create a new task in the workspace"
      },
      {
        "command": "vscode-copilot-huckleberry.listTasks",
        "title": "Huckleberry: List Tasks",
        "category": "Huckleberry",
        "description": "List all tasks in the workspace"
      },
      {
        "command": "vscode-copilot-huckleberry.markTaskComplete",
        "title": "Huckleberry: Mark Task Complete",
        "category": "Huckleberry",
        "description": "Mark a task as completed"
      },
      {
        "command": "vscode-copilot-huckleberry.changeTaskPriority",
        "title": "Huckleberry: Change Task Priority",
        "category": "Huckleberry",
        "description": "Change the priority of a task"
      },
      {
        "command": "vscode-copilot-huckleberry.scanTodos",
        "title": "Huckleberry: Scan TODOs",
        "category": "Huckleberry",
        "description": "Scan workspace files for TODO comments and convert them to tasks"
      },
      {
        "command": "vscode-copilot-huckleberry.parseRequirementsDocument",
        "title": "Huckleberry: Parse Requirements Document",
        "category": "Huckleberry",
        "description": "Parse a requirements document and create tasks from it"
      },
      {
        "command": "vscode-copilot-huckleberry.openTaskExplorer",
        "title": "Huckleberry: Open Task Explorer",
        "category": "Huckleberry",
        "description": "Open the Task Explorer view to visualize and manage tasks"
      },
      {
        "command": "vscode-copilot-huckleberry.createSubtasks",
        "title": "Huckleberry: Create Subtasks",
        "category": "Huckleberry",
        "description": "Break down a task into multiple subtasks"
      },
      {
        "command": "vscode-copilot-huckleberry.exportTasks",
        "title": "Huckleberry: Export Tasks",
        "category": "Huckleberry",
        "description": "Export tasks to a different format (markdown, CSV, JSON)"
      },
      {
        "command": "vscode-copilot-huckleberry._checkCopilotAgentMode",
        "title": "Huckleberry (Dev): Check Copilot Agent Mode",
        "enablement": "huckleberry.developmentMode",
        "category": "Huckleberry",
        "description": "Check if Copilot Agent Mode is enabled (development only)"
      },
      {
        "command": "vscode-copilot-huckleberry._testChat",
        "title": "Huckleberry (Dev): Test Chat Integration",
        "enablement": "huckleberry.developmentMode",
        "category": "Huckleberry",
        "description": "Test the chat integration and diagnose potential issues (development only)"
      },
      {
        "command": "vscode-copilot-huckleberry._forceRefreshChatParticipants",
        "title": "Huckleberry (Dev): Refresh Chat Participants",
        "enablement": "huckleberry.developmentMode",
        "category": "Huckleberry",
        "description": "Force refresh of chat participants if they stop responding (development only)"
      }
    ],
    "chatParticipants": [
      {
        "id": "huckleberry",
        "name": "Huckleberry",
        "description": "An assistant that helps manage tasks and project requirements",
        "isSticky": false,
        "commands": [
          {
            "name": "manageTasks",
            "description": "Show the task management interface"
          }
        ]
      }
    ],
    "languageModelTools": [
      {
        "name": "create_task",
        "displayName": "Create Task",
        "modelDescription": "Creates a new task in the Huckleberry Task Manager. Use this tool to create a new task with optional priority and due date information.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "createHuckleberryTask",
        "userDescription": "Creates a task in your project's task management system",
        "icon": "resources/create-task-icon.svg",
        "inputSchema": {
          "type": "object",
          "properties": {
            "description": {
              "type": "string",
              "description": "Description of the task"
            },
            "priority": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "critical"
              ],
              "description": "Priority of the task"
            }
          },
          "required": [
            "description"
          ]
        }
      },
      {
        "name": "initialize_tracking",
        "displayName": "Initialize Task Tracking",
        "modelDescription": "Initialize task tracking for a project workspace. Use this tool when a user first mentions they want to track tasks or organize their project work. This tool will create the necessary file structure for task tracking in the current workspace, including a tasks.json file to store task metadata. It requires an open workspace with write access and shouldn't be used in read-only environments or when task tracking is already set up.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "initializeHuckleberryTaskTracking",
        "userDescription": "Sets up the task tracking system in your project",
        "icon": "resources/initialize-tasks-icon.svg",
        "inputSchema": {
          "type": "object",
          "properties": {},
          "required": []
        },
        "when": "workspaceFolderCount > 0"
      },
      {
        "name": "scan_todos",
        "displayName": "Scan TODOs",
        "modelDescription": "Scans the codebase for TODO comments and converts them to tasks. Use this tool to scan the codebase for TODO comments and create tasks from them.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "scanTodosHuckleberry",
        "userDescription": "Finds TODOs in your code and adds them to your task list",
        "icon": "resources/scan-todos-icon.svg",
        "inputSchema": {
          "type": "object",
          "properties": {
            "pattern": {
              "type": "string",
              "description": "Optional file pattern to scan (e.g., '**/*.ts'). If not provided, will scan all files."
            }
          },
          "required": []
        }
      },
      {
        "name": "list_tasks",
        "displayName": "List Tasks",
        "modelDescription": "Lists tasks from the task manager. Use this tool to retrieve and list tasks, optionally filtered by priority or status.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "listHuckleberryTasks",
        "userDescription": "Shows your current tasks with optional filtering",
        "icon": "resources/create-task-icon.svg",
        "inputSchema": {
          "type": "object",
          "properties": {
            "priority": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "critical",
                "all"
              ],
              "description": "Filter tasks by priority"
            },
            "status": {
              "type": "string",
              "enum": [
                "open",
                "in_progress",
                "done",
                "all"
              ],
              "description": "Filter tasks by status"
            }
          },
          "required": []
        }
      },
      {
        "name": "mark_task_done",
        "displayName": "Mark Task Done",
        "modelDescription": "Marks a task as complete. Use this tool to mark a task as complete by providing the task ID.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "completeHuckleberryTask",
        "userDescription": "Marks a task as completed",
        "icon": "resources/initialize-tasks-icon.svg",
        "inputSchema": {
          "type": "object",
          "properties": {
            "taskId": {
              "type": "string",
              "description": "ID of the task to mark as done"
            }
          },
          "required": [
            "taskId"
          ]
        }
      },
      {
        "name": "update_task_priority",
        "displayName": "Change Task Priority",
        "modelDescription": "Changes the priority of a task. Use this tool to change the priority of a task by providing the task ID and new priority.",
        "canBeReferencedInPrompt": true,
        "toolReferenceName": "updateHuckleberryTaskPriority",
        "userDescription": "Updates the priority of a task",
        "icon": "resources/create-task-icon.svg",
        "inputSchema": {
          "type": "object",
          "properties": {
            "taskId": {
              "type": "string",
              "description": "ID of the task to update"
            },
            "priority": {
              "type": "string",
              "enum": [
                "low",
                "medium",
                "high",
                "critical"
              ],
              "description": "New priority for the task"
            }
          },
          "required": [
            "taskId",
            "priority"
          ]
        }
      }
    ],
    "configuration": {
      "title": "Huckleberry Task Manager",
      "properties": {
        "huckleberry.taskmanager.defaultTasksLocation": {
          "type": "string",
          "default": "tasks",
          "description": "Default location for task files (relative to workspace root)"
        },
        "huckleberry.taskmanager.taskFileTemplate": {
          "type": "string",
          "enum": [
            "markdown",
            "json"
          ],
          "default": "markdown",
          "description": "Template format to use when creating new task files"
        },
        "huckleberry.taskmanager.defaultTaskPriority": {
          "type": "string",
          "enum": [
            "low",
            "medium",
            "high",
            "critical"
          ],
          "default": "medium",
          "description": "Default priority for new tasks when unspecified"
        },
        "huckleberry.taskmanager.defaultDueDate": {
          "type": "string",
          "enum": [
            "none",
            "tomorrow",
            "nextWeek",
            "twoWeeks",
            "custom"
          ],
          "default": "none",
          "description": "Default due date setting for new tasks"
        },
        "huckleberry.taskmanager.customDueDateDays": {
          "type": "number",
          "default": 7,
          "description": "Number of days for custom due date setting (when defaultDueDate is set to 'custom')"
        }
      }
    }
  },
  "scripts": {
    "vscode:prepublish": "npm run build",
    "compile": "tsc -p ./",
    "watch": "tsc -watch -p ./",
    "build": "tsc -p ./",
    "lint": "eslint src --ext ts",
    "package": "npx @vscode/vsce package --no-dependencies",
    "test": "node ./dist/test/runTest.js"
  },
  "devDependencies": {
    "@types/node": "^22.9.0",
    "@types/vscode": "^1.93.0",
    "@vscode/vsce": "^3.3.2",
    "typescript": "^5.6.3"
  },
  "dependencies": {
    "@vscode/chat-extension-utils": "0.0.0-alpha.5",
    "tslib": "^2.6.2"
  }
}
